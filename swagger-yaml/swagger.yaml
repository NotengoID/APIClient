---
swagger: "2.0"
info:
  description: "Todo va estar bien con tu API favorita."
  version: "1.0.0"
  title: "Rimac API"
host: "rasveuswap01.azurewebsites.net"
basePath: "/RimacChatbot/rest"
schemes:
- "https"
consumes:
- "application/json"
produces:
- "application/json"
paths:
  /acuerdo:
    post:
      tags:
      - "Acuerdo"
      summary: "Acuerdo"
      description: "Creación de un acuerdo (cotización, pólizas)\n"
      consumes:
      - "application/json"
      - "text/plain"
      parameters:
      - name: "Authorization"
        in: "header"
        description: "Token de acceso."
        required: true
        type: "string"
        default: "Beared TestNoToken"
      - in: "body"
        name: "body"
        description: "datos de la cotización."
        required: true
        schema:
          $ref: "#/definitions/Cotizacion"
      responses:
        200:
          description: "Acuerdo creado, devuelve los planes"
          schema:
            type: "array"
            items:
              $ref: "#/definitions/PlanCotizado"
        default:
          description: "Error inesperado"
          schema:
            $ref: "#/definitions/Error"
    put:
      tags:
      - "Acuerdo"
      summary: "Acuerdo"
      description: "Actualización de un acuerdo\n"
      parameters:
      - name: "ideacuerdo"
        in: "header"
        description: "Token de acceso."
        required: true
        type: "string"
        default: "Beared TestNoToken"
      - in: "body"
        name: "body"
        description: "datos de la cotización."
        required: true
        schema:
          $ref: "#/definitions/Cotizacion"
      responses:
        200:
          description: "Acuerdo actualizado"
        404:
          description: "Acuerdo no encontraro o inválido"
  /tercero:
    get:
      tags:
      - "Tercero"
      summary: "Tercero"
      description: "Busca un tercero a través de un tipo y número de documento de\
        \ identidad.\n"
      parameters:
      - name: "Authorization"
        in: "header"
        description: "Token de acceso."
        required: true
        type: "string"
        default: "Beared TestNoToken"
      - name: "tipodoc"
        in: "query"
        description: "Tipo de documento de identidad."
        required: false
        type: "string"
        default: "2"
      - name: "nrodoc"
        in: "query"
        description: "Número de documento de identidad."
        required: true
        type: "string"
      responses:
        200:
          description: "Tercero encontrado"
          schema:
            $ref: "#/definitions/Tercero"
        404:
          description: "Tercero no encontrado"
          schema:
            $ref: "#/definitions/Error"
  /vehiculo:
    get:
      tags:
      - "Vehículo"
      summary: "Vehículo"
      description: "Busca un vehículo a través de una placa.\n"
      parameters:
      - name: "Authorization"
        in: "header"
        description: "Token de acceso."
        required: true
        type: "string"
        default: "Beared TestNoToken"
      - name: "placa"
        in: "query"
        description: "Placa del vehículo."
        required: true
        type: "string"
      responses:
        200:
          description: "Vehículo encontrado"
          schema:
            $ref: "#/definitions/Vehiculo"
        404:
          description: "Vehículo no encontrado"
          schema:
            $ref: "#/definitions/Error"
definitions:
  Cotizacion:
    type: "object"
    properties:
      ideacuerdo:
        type: "string"
      fecinivig:
        type: "string"
      ur:
        type: "array"
        items:
          $ref: "#/definitions/ObjectoAsegurado"
    example:
      ideacuerdo: ""
      fecinivig: "01/01/2018"
      ur:
        tipo: "vehiculo"
  ObjectoAsegurado:
    type: "object"
    properties:
      tipo:
        type: "string"
      ideoa:
        type: "string"
      detalle:
        type: "array"
        items:
          $ref: "#/definitions/DatoParticular"
  DatoParticular:
    type: "object"
    properties:
      idevalor:
        type: "string"
      valor:
        type: "string"
  PlanCotizado:
    type: "object"
    properties:
      primaneta:
        type: "string"
      dscplan:
        type: "string"
      ideplan:
        type: "string"
      primabruta:
        type: "string"
      simbolomoneda:
        type: "string"
      prima:
        type: "string"
  Vehiculo:
    type: "object"
    properties:
      res:
        type: "string"
        description: "Resultado de la búsqueda."
      VEHICULO_SUNARP:
        $ref: "#/definitions/Vehiculo_VEHICULO_SUNARP"
  Tercero:
    type: "object"
    properties:
      codexterno:
        type: "string"
      correo:
        type: "string"
      direccion:
        type: "string"
      dscidpgenero:
        type: "string"
      edad:
        type: "string"
      estadocivil:
        type: "string"
      fecnacimiento:
        type: "string"
      idetercero:
        type: "string"
      idpgenero:
        type: "string"
      idptipodocumento:
        type: "string"
      idptipotercero:
        type: "string"
      indexrow:
        type: "string"
      nombre:
        type: "string"
      numerodoc:
        type: "string"
      stster:
        type: "string"
  Error:
    type: "object"
    properties:
      code:
        type: "integer"
        format: "int32"
      message:
        type: "string"
    example:
      code: 404
      message: "No encontrado"
  Vehiculo_VEHICULO_SUNARP:
    properties:
      tipoAltoRiesgo:
        type: "string"
      descTipoRimac:
        type: "string"
      codGrupoRimac:
        type: "string"
      valorComercial:
        type: "integer"
      clase:
        type: "string"
      marca:
        type: "string"
      indPractimovil:
        type: "string"
      descModeloRimac:
        type: "string"
      placaVigente:
        type: "string"
      otraObservacion:
        type: "string"
      anioFabricacion:
        type: "string"
      codMarcaRimac:
        type: "string"
      nroSerie:
        type: "string"
      descClaseRimac:
        type: "string"
      nroMotor:
        type: "string"
      codClaseRimac:
        type: "string"
      descGrupoRimac:
        type: "string"
      descMarcaRimac:
        type: "string"
      indClasico:
        type: "string"
      modelo:
        type: "string"
      indChinoHindu:
        type: "string"
      gpsRequerido:
        type: "boolean"
      valorNuevo:
        type: "integer"
      codModeloRimac:
        type: "string"
      indPremier:
        type: "string"
      ind4X4:
        type: "string"
      codTipoRimac:
        type: "string"
